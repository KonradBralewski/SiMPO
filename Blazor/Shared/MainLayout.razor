@using Blazor.Infrastracture.AppSettings;
@inherits LayoutComponentBase

<MudThemeProvider Theme="_customTheme" @bind-IsDarkMode="_isDarkMode"/>
<MudDialogProvider/>
<MudSnackbarProvider/>
<MudBreakpointProvider/>
@inject IAppSettingsProvider _appSettingsProvider

<MudLayout>
    <MudAppBar Class="p-0 m-0" Style="max-height: fit-content;" Elevation="4" Color="Color.Secondary">
        <NavMenu ToggleDarkMode="@ToggleDarkMode" IsDarkMode="@_isDarkMode"/>
    </MudAppBar>
    <MudMainContent Style="width: 100%; min-height: 100vh; max-height: fit-content; overflow-x: clip;">
        <SmallDeviceNavMenu/>
        <CascadingValue Value="@_appSettingsProvider">
            @Body
        </CascadingValue>
    </MudMainContent>
    <Footer/>
</MudLayout>