@using Microsoft.JSInterop;

<MudDialog ClassContent="">
    <DialogContent>
        <MudForm Model="@_registerFormData" @ref="@_mudForm" Validation="@(_registerRequestValidator.ValidateValue)">
        <MudGrid>
                <MudItem>
                    <MudCard>
                        <RequestResultDialogExtension RequestResult="@_registerRequestResult" IsWaiting="@_isWaitingForRequestResult"/>
                        <MudCardContent>
                            <MudTextField @bind-Value="_registerFormData.Nickname"
                                For="@(() => _registerFormData.Nickname)" Label="Nickname" InputType="InputType.Text" MaxLength="20"/>
                            <MudTextField @bind-Value="_registerFormData.Email" 
                                For="@(() => _registerFormData.Email)" Label="Email" InputType="InputType.Email" MaxLength="30"/>
                            <MudTextField @bind-Value="_registerFormData.Password" 
                                For="@(() => _registerFormData.Password)" Label="Password" InputType="InputType.Password" MaxLength="30"/>
                            <MudTextField @bind-Value="_registerFormData.PasswordConfirmation"
                                For="@(() => _registerFormData.PasswordConfirmation)" Label="Confirm Password" InputType="InputType.Password" MaxLength="30"/>
                            <MudTextField @bind-Value="_registerFormData.Description"
                                For="@(() => _registerFormData.Description)" Label="Description" 
                                Lines="5" InputType="InputType.Text" MaxLength="125"/>
                            <MudTextField @bind-Value="_registerFormData.DiscordId" 
                                For="@(() => _registerFormData.DiscordId)" Label="Discord Id" InputType="InputType.Url" MaxLength="10"/>
                            <MudContainer class="d-flex flex-column justify-center align-center">
                                <MudCheckBox @bind-Checked="_registerFormData.AcceptedTermsOfService" @ref="@_termsOfServiceCheckbox"
                                    Class="d-flex flex-row justify-center align-center" DisableRipple
                                onclick="@handleTermsOfServiceCheckbox" ReadOnly For="@(() => _registerFormData.AcceptedTermsOfService)"/>
                                <MudText onclick="@handleTermsOfServiceCheckbox" Typo="Typo.h6" Color="Color.Info"
                                        Style="align-self: center;">Terms of Service</MudText>
                            </MudContainer>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
         </MudGrid>
        </MudForm>
    </DialogContent>
    <DialogActions>
            <MudButton OnClick="Submit" Class="mr-auto ml-auto mud-theme-secondary"
                Style="font-family: Verdana, sans-serif;">Register</MudButton>
            <MudButton OnClick="Cancel" Class="mr-auto ml-auto mud-theme-error" 
                Style="font-family: Verdana, sans-serif;">Cancel</MudButton>
    </DialogActions>
</MudDialog>